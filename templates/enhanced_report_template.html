<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ company_name }} - Enhanced Report</title>
    <!--
        NOTE: All visual styling, including layout, fonts, colors, cover pages,
        TOC formatting, section covers, content styling, and graph appearance,
        is now defined within the CSS string inside pdf_generator.py.
        This file only defines the HTML structure and Jinja2 placeholders.
    -->
</head>
<body>
    <!-- Cover Page Structure -->
    <div class="cover">
        <!-- The following elements get styled by the CSS in pdf_generator.py -->
        <div class="cover-header-bar"></div>
        <div class="cover-wrapper">
            <div class="header-icons">
                <img src="{{ favicon_path }}" alt="Favicon" class="favicon">
            </div>
            <img src="{{ logo_path }}" alt="Company Logo" class="cover-logo">
            <div class="cover-content">
                <h1>{{ company_name }}</h1>
                <div class="subtitle">Comprehensive Report</div>
                <div class="date">Generated on {{ generation_date }}</div>
            </div>
        </div>
         <div class="cover-footer-text">
            A creation of the Supervity Customer Research AI Agent
         </div>
         <div class="cover-footer-bar"></div>
    </div>

    <!-- Table of Contents Placeholder -->
    <!-- The actual TOC HTML is generated by _generate_toc in pdf_generator.py and inserted here -->
    {{ toc | safe }}

    <!-- Content Sections Loop -->
    {% for section in sections %}
        <!-- Section Cover Structure -->
        <div class="section-cover">
             <div class="section-cover-side-bar"></div>
            <!-- Content (title, topics, reading time) is filled by Jinja2 -->
            <h2>{{ section.title }}</h2>
            <div class="key-topics-box">
                <h3>In this section:</h3>
                {% if section.key_topics %}
                    {% for topic in section.key_topics %}
                    <p class="section-topic">{{ topic | escape }}</p>
                    {% endfor %}
                {% else %}
                    <p class="section-topic">{{ section.title | escape }}</p>
                {% endif %}
            </div>
            <div class="reading-time">
                Estimated reading time: <span class="reading-time-value">{{ section.reading_time }} minutes</span>
            </div>
        </div>

        <!-- Section Content Placeholder -->
        <!-- The actual section HTML (intro, content, graphs) is generated by -->
        <!-- _convert_markdown_to_html in pdf_generator.py and inserted here -->
        <div class="section-content">
             {{ section.html_content | safe }}
        </div>
    {% endfor %}

    <!-- End Page Structure -->
    <div class="end-page">
        <div class="end-page-header-bar"></div>
        <div class="end-page-content">
            <h2>Thank You</h2>
            <p>End of the report for {{ company_name }}</p>
            <div class="contact">
                <p>For any questions or additional information, please reach out.</p>
            </div>
        </div>
        <div class="end-page-footer-bar"></div>
    </div>
</body>
</html>